<h1>ISteamMicroTxn Interface</h1>
This is the interface used to support
<a href="/doc/features/microtransactions">Microtransactions (In-Game Purchases)</a>.<br />
<br />
See the
<a href="/doc/features/microtransactions/implementation">Microtransactions Implementation Guide</a>
for more details.
<div class="bb_callout bb_red bb_fixed">
    <div>
        <strong>NOTE:</strong> Use
        <a href="/doc/webapi/ISteamMicroTxnSandbox">ISteamMicroTxnSandbox</a> while testing!
    </div>
</div>
<br />
For more info on how to use the Steamworks Web API please see the
<a href="/doc/webapi_overview">Web API Overview</a>.
<h2 class="bb_section"><a name="AdjustAgreement"></a>AdjustAgreement</h2>
<div class="bb_code http">
    POST https://partner.steam-api.com/ISteamMicroTxn/AdjustAgreement/v1/
</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Steam ID of the client that is adjusting the agreement.</td>
        </tr>
        <tr>
            <td><strong>agreementid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit Steam billing agreement ID.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of the game the agreement is for.</td>
        </tr>
        <tr>
            <td><strong>nextprocessdate</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>
                Date that next recurring payment should be initiated. Format is YYYYMMDD.<br />
                Date can only be adjusted forward indicating you want to add time to the
                subscription. If the date exceeds the end date of the subscription, the end date
                will be extended.
            </td>
        </tr>
        <tr>
            <td><strong>oldnextprocessdate</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Optional paramter that is the last known next recurring payment date that should be
                checked against. Format is YYYYMMDD.<br />
                If this parameter is provided, the API will verify that the current next recurring
                date has not changed before attempting to adjust the agreement next process changes
                to the agreement.
            </td>
        </tr>
    </tbody>
</table>
<br />
Add time to the payment schedule of an agreement with billing type "steam". The agreementid can be
retrieved using
<a href="/doc/webapi/ISteamMicroTxn#GetUserAgreementInfo">ISteamMicroTxn/GetUserAgreementInfo</a
>.<br />
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">agreementid</code> - Unique
                        64-bit Steam billing agreement ID.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">nextprocessdate</code> -
                        The date that the next recurring payment will be initiated. Format is
                        YYYYMMDD.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<h2 class="bb_section"><a name="CancelAgreement"></a>CancelAgreement</h2>
<div class="bb_code http">
    POST https://partner.steam-api.com/ISteamMicroTxn/CancelAgreement/v1/
</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Steam ID of the client that is canceling the agreement.</td>
        </tr>
        <tr>
            <td><strong>agreementid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit Steam billing agreement ID.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of the game the agreement is for.</td>
        </tr>
    </tbody>
</table>
<br />
Cancels a recurring billing agreement (subscription). The agreementid can be retrieved using
<a href="/doc/webapi/ISteamMicroTxn#GetUserAgreementInfo">ISteamMicroTxn/GetUserAgreementInfo</a
>.<br />
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">agreementid</code> - Unique
                        64-bit Steam billing agreement ID.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<h2 class="bb_section"><a name="FinalizeTxn"></a>FinalizeTxn</h2>
<div class="bb_code http">POST https://partner.steam-api.com/ISteamMicroTxn/FinalizeTxn/v2/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>orderid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit ID for order</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID for game.</td>
        </tr>
    </tbody>
</table>
<br />
Completes a purchase that was started by the
<a href="/doc/webapi/ISteamMicroTxn#InitTxn">ISteamMicroTxn/InitTxn</a> API.<br />
<br />
This command will capture funds for a transaction and should only be called after the user has
authorized the transaction and you have received notification that the authorization was successful.
Notification of authorization comes either through the Steam client (your game registers to receive
notification) or through the user being redirected back to your web site (return URL specified when
you redirect a user's web session to Steam). The usersession value specified in InitTxn determines
the notification mechanism.<br />
<br />
A successful response to this command means payment has been completed and you can safely grant
items to the user. In the event of a timeout or some other communication error, use either the
<a href="/doc/webapi/ISteamMicroTxn#QueryTxn">ISteamMicroTxn/QueryTxn</a> or
<a href="/doc/webapi/ISteamMicroTxn#GetReport">ISteamMicroTxn/GetReport</a> APIs to get status on
the transaction.<br />
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed to string formatted 64 bit numbers.</li>
</ul>
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code xml">
    &lt;response&gt; &lt;result&gt;OK&lt;/result&gt; &lt;params&gt;
    &lt;orderid&gt;938473&lt;/orderid&gt; &lt;transid&gt;374839&lt;/transid&gt; &lt;/params&gt;
    &lt;/response&gt;
</div>
<h2 class="bb_section"><a name="GetReport"></a>GetReport</h2>
<div class="bb_code http">GET https://partner.steam-api.com/ISteamMicroTxn/GetReport/v5/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of game to get reports for.</td>
        </tr>
        <tr>
            <td><strong>type</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Report type (One of: <strong>"GAMESALES"</strong>,
                <strong>"STEAMSTORESALES"</strong>, <strong>"SETTLEMENT"</strong>,
                <strong>"CHARGEBACK"</strong>, <strong>"SUBSCRIPTION"</strong>)
            </td>
        </tr>
        <tr>
            <td><strong>time</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>
                Start time of the report. (RFC 3339 UTC formatted like:
                <strong>2010-01-01T00:00:00Z</strong>)
            </td>
        </tr>
        <tr>
            <td><strong>maxresults</strong></td>
            <td>uint32</td>
            <td></td>
            <td>
                Maximum number of results to return in report. (Default is 1000 if no value is set)
                Note that the number of results returned might be less than maxresults, even when
                they are more results. Maximum number of results is 50000. The recommended number to
                use is between 1000 and 10000, as that should provide the best response time and
                data to manage.
            </td>
        </tr>
    </tbody>
</table>
<br />
Steam offers transaction reports that can be downloaded for reconciliation purposes. These reports
show detailed information about each transaction that affects the settlement of funds into your
accounts.<br />
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>NOTE:</strong> This method has previous versions which are no longer officially supported.
They will continue to be usable but it's highly recommended that you use the latest version. Change
history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed result to returns arrays.<br /></li>
    <li><strong>Version 3</strong> - Changed to string formatted 64 bit numbers.<br /></li>
    <li>
        <strong>Version 4</strong> - Added
        <code class="bb_code bb_code_inline nohighlight">storepurchasereference</code> section to
        return sales information for DLCs sold on the store that reference in-game microtransaction
        items.<br />
    </li>
    <li>
        <strong>Version 5</strong> - Added new status values to for transactions to reflect
        suspected fraud or friendly fraud.
    </li>
</ul>
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">timecreated</code> - Time
                        of transaction (RFC 3339 UTC formatted like:
                        <strong>2010-01-01T00:00:00Z</strong>)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order. (This will be 0 for recurring subscriptions initiated
                        from the Steam store, use
                        <code class="bb_code bb_code_inline nohighlight">transid</code>
                        instead.)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">steamid</code> - The Steam
                        ID of user that the order/transaction belongs to.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">status</code> - Status of
                        the order. See:
                        <a href="/doc/features/microtransactions/implementation#status_values"
                            >Appendix A: Status Values</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">currency</code> - ISO 4217
                        currency code.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">time</code> - Time of the
                        most recent update to the transaction. (RFC 3339 UTC formatted like:
                        <strong>2010-01-01T00:00:00Z</strong>)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">country</code> - ISO
                        3166-1-alpha-2 country code.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">usstate</code> - US State.
                        Empty for non-US countries.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">items</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">itemid</code> - Game ID
                        number of item.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">qty</code> - Quantity of
                        this item.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">amount</code> - Total cost
                        to user minus VAT (in cents). (199 = 1.99)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">vat</code> - Total VAT or
                        tax (in cents). (19 = .19)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">itemstatus</code> - Status
                        of items within the order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight"
                            >storepurchasereference</code
                        >
                        - Optional, only returned if the purchase was via a DLC on the store that is
                        connected to an in-game microtransaction item id. <br />
                        <ul>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">packageid</code> -
                                The DLC package that was purchased on the store.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">bundleid</code> -
                                The bundle id associated with the DLC package, if applicable.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">referenceid</code>
                                - The steam generated line item referenceid associated with the
                                package.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">amount</code> - The
                                price paid by the user. <br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">vat</code> - VAT
                                taxes if applicable for the purchase.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">currency</code> -
                                The currency that was used to make the purchase.
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code json">
    { "response": { "result": "OK", "params": { "count": 4, "orders": [ { "orderid": "1233",
    "transid": "1234567890123456788", "steamid": "76561197972751825", "status": "PartialRefund",
    "currency": "USD", "time": "2024-01-23T18:30:00Z", "country": "US", "usstate": "WA",
    "timecreated": "2024-01-23T18:15:00Z", "items": [ { "itemid": 100, "qty": 1, "amount": 99,
    "vat": 9, "itemstatus": "Refunded" }, { "itemid": 101, "qty": 1, "amount": 1299, "vat": 116,
    "itemstatus": "Succeeded" } ] }, { "orderid": "1234", "transid": "1234567890123456789",
    "steamid": "76561197972751825", "status": "Failed", "currency": "USD", "time":
    "2024-01-23T18:40:30Z", "country": "US", "usstate": "WA", "timecreated": "2024-01-23T18:39:00Z",
    "items": [ { "itemid": 100, "qty": 1, "amount": 99, "vat": 9, "itemstatus": "Failed" } ] }, {
    "orderid": "1235", "transid": "1234567890123456790", "steamid": "76561197972751825", "status":
    "Succeeded", "currency": "USD", "time": "2024-01-23T18:40:40Z", "country": "US", "usstate":
    "WA", "timecreated": "2024-01-23T18:39:30Z", "items": [ { "itemid": 101, "qty": 1, "amount":
    1299, "vat": 116, "itemstatus": "Succeeded" } ] }, { "orderid": "1236", "transid":
    "1234567890123456791", "steamid": "76561197972751825", "status": "Chargedback", "currency":
    "USD", "time": "2024-01-23T19:55:00Z", "country": "US", "usstate": "WA", "timecreated":
    "2024-01-23T18:40:00Z", "items": [ { "itemid": 102, "qty": 1, "amount": 999, "vat": 89,
    "itemstatus": "Chargedback" } ] } ] } } }
</div>
<h2 class="bb_section"><a name="GetUserAgreementInfo"></a>GetUserAgreementInfo</h2>
<div class="bb_code http">
    GET https://partner.steam-api.com/ISteamMicroTxn/GetUserAgreementInfo/v2/
</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Steam ID of the client.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of the game the agreement is for.</td>
        </tr>
    </tbody>
</table>
<br />
Get detailed information for the current billing agreement for a user. The billing agreement status
will just be for the current renewal status. For example, if the user has paid for 1 month, and then
cancels after 1 day, the current status show canceled.<br />
<br />
In general, you should not use this API to determine if the user has renewed their subscription.
Instead, use <a href="/doc/webapi/ISteamMicroTxn#GetReport">ISteamMicroTxn/GetReport</a> to see when
they were charged for their renewal.<br />
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Version 2</strong> - The status value can be "processing" in the case where Steam has not
yet charged the user for the agreement. Previously the status value would be "active"<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">agreements</code><br />
                        <ul>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">agreement</code
                                ><br />
                                <ul>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >agreementid</code
                                        >
                                        - Unique 64-bit Steam billing agreement ID.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >itemid</code
                                        >
                                        - Game ID number of item<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >status</code
                                        >
                                        - Active, canceled, or processing. This status will just be
                                        the current status for the user.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >period</code
                                        >
                                        - Period of agreement.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >frequency</code
                                        >
                                        - Interval of period.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >startdate</code
                                        >
                                        - Date that recurring payment processing starts. Format is
                                        YYYYMMDD.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >enddate</code
                                        >
                                        - Date that recurring payment processing ends. Format is
                                        YYYYMMDD.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >recurringamt</code
                                        >
                                        - Amount to bill (in cents) at each recurring interval.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >currency</code
                                        >
                                        - ISO 4217 currency code of prices.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >timecreated</code
                                        >
                                        - Date that agreement was created in YYYYMMDD format.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >lastpayment</code
                                        >
                                        - Date of last successful payment in YYYYMMDD format.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >lastamount</code
                                        >
                                        - Amount of last successful payment in cents.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >nextpayment</code
                                        >
                                        - Date of next scheduled payment in YYYYMMDD format.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >outstanding</code
                                        >
                                        - Current outstanding balance in cents.<br />
                                    </li>
                                    <li>
                                        <code class="bb_code bb_code_inline nohighlight"
                                            >failedattempts</code
                                        >
                                        - Number of failed billing attempts on outstanding
                                        balance.<br />
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<h2 class="bb_section"><a name="GetUserInfo"></a>GetUserInfo</h2>
<div class="bb_code http">GET https://partner.steam-api.com/ISteamMicroTxn/GetUserInfo/v2/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>AppID of the game the user will make a purchase in.</td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td></td>
            <td>Steam ID of user making purchase.</td>
        </tr>
        <tr>
            <td><strong>ipaddress</strong></td>
            <td>string</td>
            <td></td>
            <td>
                IP address of user in string format (xxx.xxx.xxx.xxx). Only required if
                <code class="bb_code bb_code_inline nohighlight">usersession</code> in
                <a href="/doc/webapi/ISteamMicroTxn#InitTxn">ISteamMicroTxn/InitTxn</a> was set to
                <strong>web</strong>.
            </td>
        </tr>
    </tbody>
</table>
<br />
Retrieves details for a user's purchasing info.<br />
<br />
These details are based upon the user's Steam wallet.<br />
For new accounts or accounts that do not yet have a Steam wallet, the information returned will be
based off of the user's IP address. The IP will be taken from the user's Steam client session if
they are logged in, otherwise from the ipaddress API parameter. If the user does not have a wallet,
is not logged in through the Steam client, and you have not supplied an IP address, this call will
return an error indicating the user is not logged in.<br />
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed to string formatted 64 bit numbers.</li>
</ul>
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">state</code> - US State.
                        Empty for non-US countries.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">country</code> - ISO
                        3166-1-alpha-2 country code.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">currency</code> - ISO 4217
                        currency code of prices.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">status</code> - Status of
                        the account. Can be:<br />
                        • Locked from purchasing - cannot make purchases<br />
                        • Active - the default account state<br />
                        • Trusted - an active account with a purchase older than 90 days without a
                        chargeback<br />
                        <br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code xml">
    &lt;response&gt; &lt;result&gt;OK&lt;/result&gt; &lt;params&gt; &lt;state&gt;WA&lt;/state&gt;
    &lt;country&gt;US&lt;/country&gt; &lt;currency&gt;USD&lt;/currency&gt; &lt;/params&gt;
    &lt;/response&gt;
</div>
<h2 class="bb_section"><a name="InitTxn"></a>InitTxn</h2>
<div class="bb_code http">POST https://partner.steam-api.com/ISteamMicroTxn/InitTxn/v3/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>orderid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit ID for order</td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Steam ID of user making purchase.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of game this transaction is for.</td>
        </tr>
        <tr>
            <td><strong>itemcount</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>Number of items in cart.</td>
        </tr>
        <tr>
            <td><strong>language</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>
                ISO 639-1 language code of the item descriptions. Only works with the 28 fully
                supported Steam languages.
                <a href="/doc/store/localization/languages">See supported languages</a>
            </td>
        </tr>
        <tr>
            <td><strong>currency</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>
                ISO 4217 currency code. See
                <a href="/doc/store/pricing/currencies">Supported Currencies</a> for proper format
                of each currency.
            </td>
        </tr>
        <tr>
            <td><strong>usersession</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Session where user will authorize the transaction. Valid options are
                <strong>"client"</strong> or <strong>"web"</strong>. If this parameter is not
                supplied, the interface will be assumed to be through a currently logged in Steam
                client session.
            </td>
        </tr>
        <tr>
            <td><strong>ipaddress</strong></td>
            <td>string</td>
            <td></td>
            <td>
                IP address of user in string format (xxx.xxx.xxx.xxx). Only required if
                [param]usersession[/param] is set to <strong>web</strong>.
            </td>
        </tr>
        <tr>
            <td><strong>itemid[0]</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>3rd party ID for item.</td>
        </tr>
        <tr>
            <td><strong>qty[0]</strong></td>
            <td>int16</td>
            <td>✔</td>
            <td>Quantity of this item.</td>
        </tr>
        <tr>
            <td><strong>amount[0]</strong></td>
            <td>int64</td>
            <td>✔</td>
            <td>
                Total cost (in cents) of item(s) to be charged at this time. See
                <a href="/doc/store/pricing/currencies">Supported Currencies</a> for proper format
                of each amount. Note that the amount you pass needs to be in the format that matches
                the "currency" code you pass.
            </td>
        </tr>
        <tr>
            <td><strong>description[0]</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Description of item. Maximum length of 128 characters.</td>
        </tr>
        <tr>
            <td><strong>category[0]</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Optional text description of a category that this item should be grouped with. This
                value is used for grouping sales data in backend Steam reporting and is never
                displayed to the user. Maximum length of 64 characters
            </td>
        </tr>
        <tr>
            <td><strong>associated_bundle[0]</strong></td>
            <td>uint32</td>
            <td></td>
            <td>Optional bundleid of associated bundle.</td>
        </tr>
        <tr>
            <td><strong>billingtype[0]</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Optional recurring billing type. Valid options are: <strong>"Steam"</strong> or
                <strong>"Game"</strong><br />
                <ul>
                    <li>Steam: Steam automatically re-bills</li>
                    <li>Game: Partner needs to call ProcessAgreement API to bill</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>period[0]</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Optional period for recurring billing. Valid options are: <strong>"Day"</strong>,
                <strong>"Week"</strong>, <strong>"Month"</strong>, <strong>"Year"</strong>
            </td>
        </tr>
        <tr>
            <td><strong>frequency[0]</strong></td>
            <td>uint32</td>
            <td></td>
            <td>
                Optional frequency (in number of days) for recurring billing. Supported values:
                <strong>1 - 255</strong>
            </td>
        </tr>
        <tr>
            <td><strong>recurringamt[0]</strong></td>
            <td>int64</td>
            <td></td>
            <td>Optional amount to be billed for future recurring billing transactions.</td>
        </tr>
        <tr>
            <td><strong>bundlecount</strong></td>
            <td>uint32</td>
            <td></td>
            <td>Number of bundles in cart.</td>
        </tr>
        <tr>
            <td><strong>bundleid[0]</strong></td>
            <td>uint32</td>
            <td></td>
            <td>3rd party ID of the bundle. This shares the same ID space as 3rd party items.</td>
        </tr>
        <tr>
            <td><strong>bundle_qty[0]</strong></td>
            <td>uint32</td>
            <td></td>
            <td>Quantity of this bundle.</td>
        </tr>
        <tr>
            <td><strong>bundle_desc[0]</strong></td>
            <td>string</td>
            <td></td>
            <td>Description of bundle. Maximum length of 128 characters.</td>
        </tr>
        <tr>
            <td><strong>bundle_category[0]</strong></td>
            <td>string</td>
            <td></td>
            <td>
                Optional text description of a bundle category that this item should be grouped
                with. This value is used for grouping sales data in backend Steam reporting and is
                never displayed to the user. Maximum length of 64 characters.
            </td>
        </tr>
    </tbody>
</table>
<br />
Creates a new purchase. Send the order information along with the Steam ID to seed the transaction
on Steam.<br />
<br />
This command allows you to create a shopping cart of one or more items for a user. The cost and
descriptions of these items will be displayed to the user for their approval. The purchase interface
can be configured for either the Steam client or a web browser depending on if you are running a
purchase in-game or from a web page.
<div class="bb_callout">
    <div>
        <h3>Currency/Amount formatting</h3>
        Note that certain currencies must be charged in specific increments. For example, Ukrainian
        Hryvnia (UAH) must be charged in increments of 100. So if you attempt to price an item at
        1050 UAH, InitTxn will fail with error result k_EMicroTxnResultInvalidParam. For a full list
        of pricing requirements, see <a href="/doc/store/pricing/currencies">Supported Currencies</a
        ><br />
        <br />
        If you do not wish to price each transaction in the local user's currency, Steam can convert
        any purchase to the local user's wallet currency automatically based on current exchange
        rate. For example, if you pass
        <code class="bb_code bb_code_inline nohighlight">currency</code> as "USD" and
        <code class="bb_code bb_code_inline nohighlight">amount</code> as "999", a user in Russia
        will be charged in Rubles at the current exchange rate for $9.99, which would be about
        614.90 pуб as of this writing. Please note, however, that the transaction confirmation
        dialog displayed to customers will show the pricing and currency that you have specified;
        the conversion takes place as the transaction is finalized. In the previous example,
        customers in Russia would see a USD $9.99 price in the confirmation dialog but would be
        charged 614.90 pуб when the transaction is finalized. We recommend that you provide custom
        pricing for each currency in which you expect your customers to transact regularly.<br />
        <br />
        Note that the <code class="bb_code bb_code_inline nohighlight">amount</code> you pass needs
        to be in the format that matches the
        <code class="bb_code bb_code_inline nohighlight">currency</code> code you pass.
    </div>
</div>
<br />
A successful response to this command means the transaction has been created. If the purchase
interface is the Steam client, the user will automatically be presented with a dialog requesting
authorization for the purchase. For a web interface, redirect the user to the steam URL returned in
the response. In the event of a timeout or some other communication error, abandon the transaction
and create a new one.<br />
<br />
When a "client" user session is indicated via [param]usersession[/param] the user will be required
to approve the transaction from within the game overlay on the client. Web sessions will require the
user to be logged into Steam via a browser where the transaction will be presented and an approval
option displayed.<br />
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed to string formatted 64 bit numbers.</li>
</ul>
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 3</strong> - Enforced quantity amounts to be a 16 bit number.</li>
</ul>
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">steamurl</code> - Optional
                        URL returned when the usersession input is set to web. This URL can be used
                        to redirect the user's web session to Steam so that the user can approve the
                        transaction.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">agreements</code> -
                        Optional list of agreements when the billing type is recurring.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code xml">
    &lt;response&gt; &lt;result&gt;OK&lt;/result&gt; &lt;params&gt;
    &lt;orderid&gt;938473&lt;/orderid&gt; &lt;transid&gt;374839&lt;/transid&gt; &lt;/params&gt;
    &lt;/response&gt; &lt;response&gt; &lt;result&gt;Failure&lt;/result&gt; &lt;params&gt;
    &lt;orderid&gt;938474&lt;/orderid&gt; &lt;/params&gt; &lt;error&gt;
    &lt;errorcode&gt;1001&lt;/errorcode&gt; &lt;errordesc&gt;Action not allowed&lt;/errordesc&gt;
    &lt;/error&gt; &lt;/response&gt;
</div>
<h2 class="bb_section"><a name="ProcessAgreement"></a>ProcessAgreement</h2>
<div class="bb_code http">
    POST https://partner.steam-api.com/ISteamMicroTxn/ProcessAgreement/v1/
</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>orderid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>
                Unique 64-bit ID for order. If the recurring subscription was initiated from the
                Steam store, then this field will be 0.
            </td>
        </tr>
        <tr>
            <td><strong>steamid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Steam ID of the client.</td>
        </tr>
        <tr>
            <td><strong>agreementid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit Steam billing agreement ID.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of the game the agreement is for.</td>
        </tr>
        <tr>
            <td><strong>amount</strong></td>
            <td>int32</td>
            <td>✔</td>
            <td>
                Total cost (in cents).<br />
                <br />
                This value corresponds to an initial one-time amount to be immediately charged to a
                user.
            </td>
        </tr>
        <tr>
            <td><strong>currency</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>ISO 4217 currency code of prices</td>
        </tr>
    </tbody>
</table>
<br />
Initiate a recurring payment (subscription) for the user.<br />
<br />
A successful response means that Steam will initiate a billing cycle for the user. It does not mean
that the actual billing cycle was completed successfully. Use the
<a href="/doc/webapi/ISteamMicroTxn#GetReport">ISteamMicroTxn/GetReport</a> or
<a href="/doc/webapi/ISteamMicroTxn#GetUserAgreementInfo">ISteamMicroTxn/GetUserAgreementInfo</a>
APIs to check actual billing status.<br />
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">agreementid</code> - Unique
                        64-bit Steam billing agreement ID.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<h2 class="bb_section"><a name="QueryTxn"></a>QueryTxn</h2>
<div class="bb_code http">GET https://partner.steam-api.com/ISteamMicroTxn/QueryTxn/v3/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of game this transaction is for.</td>
        </tr>
        <tr>
            <td><strong>orderid</strong></td>
            <td>uint64</td>
            <td></td>
            <td>Unique 64-bit ID for order.</td>
        </tr>
        <tr>
            <td><strong>transid</strong></td>
            <td>uint64</td>
            <td></td>
            <td>Unique 64-bit Steam transaction ID.</td>
        </tr>
    </tbody>
</table>
<br />
Query the status of an order that was previously created with
<a href="/doc/webapi/ISteamMicroTxn#InitTxn">ISteamMicroTxn/InitTxn</a>.<br />
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed to string formatted 64 bit numbers.<br /></li>
    <li>
        <strong>Version 3</strong> - Added new status values to for transactions to reflect
        suspected fraud or friendly fraud.
    </li>
</ul>
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">steamid</code> - The Steam
                        ID of user that the order/transaction belongs to.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">status</code> - Status of
                        the order. See:
                        <a href="/doc/features/microtransactions/implementation#status_values"
                            >Appendix A: Status Values</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">currency</code> - ISO 4217
                        currency code.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">time</code> - Time of
                        transaction (RFC 3339 UTC formatted like:
                        <strong>2010-01-01T00:00:00Z</strong>)<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">country</code> - ISO
                        3166-1-alpha-2 country code.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">usstate</code> - US State.
                        Empty for non-US countries.<br />
                        <br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">items</code><br />
                        <ul>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">itemid</code> -
                                Game ID number of item.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">qty</code> -
                                Quantity of this item.<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">amount</code> -
                                Total cost to user minus VAT (in cents). (199 = 1.99)<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">vat</code> - Total
                                VAT or tax (in cents). (19 = .19)<br />
                            </li>
                            <li>
                                <code class="bb_code bb_code_inline nohighlight">itemstatus</code> -
                                Status of items within the order.<br />
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code xml">
    &lt;response&gt; &lt;result&gt;OK&lt;/result&gt; &lt;params&gt;
    &lt;orderid&gt;938474&lt;/orderid&gt; &lt;transid&gt;374839&lt;/transid&gt;
    &lt;steamid&gt;48392063&lt;/steamid&gt; &lt;status&gt;Succeeded&lt;/status&gt;
    &lt;currency&gt;GBP&lt;/currency&gt; &lt;time&gt;2010-01-01T00:23:45Z&lt;/time&gt; &lt;items&gt;
    &lt;item&gt; &lt;itemid&gt;12345&lt;/itemid&gt; &lt;qty&gt;1&lt;/qty&gt;
    &lt;amount&gt;199&lt;/amount&gt; &lt;vat&gt;38&lt;/vat&gt;
    &lt;itemstatus&gt;Succeeded&lt;/itemstatus&gt; &lt;/item&gt; &lt;item&gt;
    &lt;itemid&gt;12345&lt;/itemid&gt; &lt;qty&gt;1&lt;/qty&gt; &lt;amount&gt;199&lt;/amount&gt;
    &lt;vat&gt;38&lt;/vat&gt; &lt;itemstatus&gt;Succeeded&lt;/itemstatus&gt; &lt;/item&gt;
    &lt;/items&gt; &lt;/params&gt; &lt;/response&gt;
</div>
<h2 class="bb_section"><a name="RefundTxn"></a>RefundTxn</h2>
<div class="bb_code http">POST https://partner.steam-api.com/ISteamMicroTxn/RefundTxn/v2/</div>
<table>
    <tbody>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><strong>key</strong></td>
            <td>string</td>
            <td>✔</td>
            <td>Steamworks Web API publisher authentication key.</td>
        </tr>
        <tr>
            <td><strong>orderid</strong></td>
            <td>uint64</td>
            <td>✔</td>
            <td>Unique 64-bit ID for order to refund.</td>
        </tr>
        <tr>
            <td><strong>appid</strong></td>
            <td>uint32</td>
            <td>✔</td>
            <td>App ID of the game.</td>
        </tr>
    </tbody>
</table>
<br />
Tells Steam to refund a user for a purchase. Refunds can only be made for the full value of the
original order.<br />
<br />
This method has previous versions which are no longer officially supported. They will continue to be
usable but it's highly recommended that you use the latest version.<br />
Change history:<br />
<ul>
    <li><strong>Version 2</strong> - Changed to string formatted 64 bit numbers.</li>
</ul>
<br />
<strong>NOTE:</strong> This call requires a publisher API key to use this method. As such this API
<strong>MUST</strong> be called from a secure server, and can never be used directly by clients!<br />
<br />
<strong>Response:</strong><br />
<ul>
    <li>
        <code class="bb_code bb_code_inline nohighlight">response</code><br />
        <ul>
            <li>
                <code class="bb_code bb_code_inline nohighlight">result</code> - Result of the
                operation. (<strong>OK</strong> or <strong>Failure</strong>)<br />
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">params</code><br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">orderid</code> - Unique
                        64-bit ID for order.<br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">transid</code> - Unique
                        64-bit Steam transaction ID.<br />
                    </li>
                </ul>
            </li>
            <li>
                <code class="bb_code bb_code_inline nohighlight">error</code> - Optional, only
                returned if result is <strong>Failure</strong>.<br />
                <ul>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errorcode</code> - Error or
                        event code. See:
                        <a href="/doc/features/microtransactions/implementation#error_codes"
                            >Appendix B: Error Codes</a
                        ><br />
                    </li>
                    <li>
                        <code class="bb_code bb_code_inline nohighlight">errordesc</code> - Message
                        for error or event.<br />
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br />
<strong>Example Response:</strong><br />
<div class="bb_code xml">
    &lt;response&gt; &lt;result&gt;OK&lt;/result&gt; &lt;params&gt;
    &lt;orderid&gt;938474&lt;/orderid&gt; &lt;transid&gt;374839&lt;/transid&gt; &lt;/params&gt;
    &lt;/response&gt;
</div>
